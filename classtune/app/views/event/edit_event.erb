<%-# Champs21
#Copyright 2010 teamCreative Private Limited
#
#This product includes software developed at
#Project Champs21 - http://www.champs21.com/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>
<script src="/javascripts/minicolorpicker/jquery.minicolors.js"></script>
<link rel="stylesheet" href="/stylesheets/event/jquery.minicolors.css">
<div id="content-header">
<%= show_header_icon %>
  <h1><%= t('events') %></h1>
<div class='header-sep'>|</div>
<div class='sub-header'><%= t('edit_event') %></div>
</div>
<div id="page-yield">
  <%= flash[:notice] %>
  <% form_for :event, :html => { :multipart => true } do |f| %>
    <%= error_messages_for 'event' %>
    <div class="label-field-pair">
      <label for="start-date"><%= t('start_date') %>:</label>
      <div class="text-input-bg"><%= calendar_date_select_tag "event[start_date]", I18n.l(@event.start_date.to_date,:format=>("%Y-%m-%d %H:%M")), :time => true, :readonly=>true, :popup=>"force"%></div>
    </div>
    <div class="label-field-pair">
      <label for="end-date"><%= t('end_date') %>:</label>
      <div class="text-input-bg"><%= calendar_date_select_tag "event[end_date]", I18n.l(@event.end_date.to_date,:format=>("%Y-%m-%d %H:%M")), :time => true , :readonly=>true, :popup=>"force" %></div>
    </div>
    <div class="label-field-pair">
          <label for="event_category"><%= t('category') %></label>
          <div class="text-input-bg"><%= f.select :event_category_id, @event_categories.map {|c| [c.name, c.id]} %></div>
    </div>
    <div class="label-field-pair">
      <label for="title"><%= t('title') %>:</label>
      <div class="text-input-bg"><%= f.text_field :title %></div>
    </div>
    <div class="label-field-pair">
      <label for="title"><%= "Pointing Color" %>:</label>
      <div class="text-input-bg"><input type="text" id="text-field" name="event[pointing_color]" class="demo" value="<%= @event.pointing_color %>"></div>
    </div>
    
    <div class="label-field-pair">
      <label >Upload Icon (500 KB, 50w*50h)</label>
      <div class="text-input-bg" id="event-image"><%= f.file_field :icon %></div>
      <% if @event.icon.file? %>
         <%= image_tag @event.icon.url %>      
      <% end %>
    </div>
    <div class="label-field-pair">
      <label for="description"><%= t('description') %>:</label>
    </div>
    <%= f.text_area "description" %>
    <div class="label-field-pair">
      <label for="is-holiday"><%= t('is_holiday') %></label>
      <%= f.check_box :is_holiday %>
    </div>
    <div class="label-field-pair">
      <label for="end-date"> <%= t('common_event') %></label>
      <%= f.check_box :is_common %>
    </div>
    <%= f.submit "â–º#{t('update_event')}" %>
  <% end %>
</div>
<script>
    j(document).ready( function() {

        j(".demo").minicolors();

    });
</script>