<%-# Champs21
#Copyright 2010 teamCreative Private Limited
#
#This product includes software developed at
#Project Champs21 - http://www.champs21.com/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>

<% unless @batches.nil? %>
<input type="hidden" name="check_paid" id="check_paid" value="<%= @check_paid %>" />
<div  style="text-align: center; width: 100%; float: left; padding-top: 20px;">
  <div class="label-field-pair">
      <div class="input-container">
        <%= select("export_custom","export_custom", @batches.map { |item| [item.full_name, item.id] }.sort_by{|x, y| x.downcase}.uniq,
          {:prompt => "#{t('select_a_batch')}" },
          {:onchange => "#{remote_function(:url => {:action => "get_user_by_batches"},
            :with => "'id='+value+'&date_id='+$('fees_submission_date_id').value+'&student_ids='+student_ids+'&check_paid='+$('check_paid').value",
            :before => "Element.show('loader_export_custom'); student_ids = get_student_ids();",
            :success => "Element.hide('loader_export_custom')")}",:autocomplete => "off"
          })%>
     </div>
     <div class="loader_div">
        <%= image_tag("loader.gif",
          :align => "absmiddle",
          :border => 0,
          :id => "loader_export_custom",
          :style =>"display: none;" ) %>
      </div>
  </div>
  <div style="clear: both; float: left; width: 100%;">
    <div id="student_div" style="width: 45%; margin-left: 1%; float: left; background: #efefef; height: 200px; overflow-y: auto;">
    </div>
    <div style="display: table; width: 5%; margin-left: 1%; float: left; height: 200px;">
        <div style="display:table-cell; vertical-align: middle; width: 80%; text-align: center; padding: 10px 10px;">
            <span class="remove_all_student assign_btn">&laquo;</span>
            <span class="remove_one_student assign_btn">&#8249;</span>
            <span class="update_one_student assign_btn">&#8250;</span>
            <span class="update_all_student assign_btn">&raquo;</span>
        </div>
    </div>
    <div style="width: 44%; margin-left: 1%; float: left; background: #efefef; height: 200px; overflow-y: auto;">
        <ul class="student_ul_assign"></ul>
    </div>
  </div>
  <div style="clear: both; height: 10px;"  ></div>
</div>
<div style="clear: both; height: 10px;"  ></div>
<% end %>