"use strict";var app=angular.module("minovateApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ngMessages","picardy.fontawesome","ui.bootstrap","ui.router","ui.utils","angular-loading-bar","angular-momentjs","FBAngular","lazyModel","toastr","angularBootstrapNavTree","oc.lazyLoad","ui.select","ui.tree","textAngular","colorpicker.module","angularFileUpload","ngImgCrop","datatables","datatables.bootstrap","datatables.colreorder","datatables.colvis","datatables.tabletools","datatables.scroller","datatables.columnfilter","ui.grid","ui.grid.resizeColumns","ui.grid.edit","ui.grid.moveColumns","ngTable","smart-table","angular-flot","angular-rickshaw","easypiechart","uiGmapgoogle-maps","ui.calendar","ngTagsInput","pascalprecht.translate","ngMaterial","localytics.directives","leaflet-directive","wu.masonry","ipsum","angular-intro","dragularModule"]).run(["$rootScope","$state","$stateParams",function(e,t,a){e.$state=t,e.$stateParams=a,e.$on("$stateChangeSuccess",function(t,a){t.targetScope.$watch("$viewContentLoaded",function(){angular.element("html, body, #content").animate({scrollTop:0},200),setTimeout(function(){angular.element("#wrap").css("visibility","visible"),angular.element(".dropdown").hasClass("open")||angular.element(".dropdown").find(">ul").slideUp()},200)}),e.containerClass=a.containerClass})}]).config(["uiSelectConfig",function(e){e.theme="bootstrap",e.resetSearchInput=!0}]).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"languages/",suffix:".json"}),e.useLocalStorage(),e.preferredLanguage("en"),e.useSanitizeValueStrategy(null)}]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/app/"+school_domain),e.state("app",{"abstract":!0,url:"/app",templateUrl:"views/tmpl/app.html"}).state("app."+school_domain,{url:"/"+school_domain,controller:"DashboardCtrl",templateUrl:"views/tmpl/dashboard.html",resolve:{plugins:["$ocLazyLoad",function(e){return e.load(["scripts/vendor/flot/jquery.flot.resize.js","scripts/vendor/flot/jquery.flot.orderBars.js","scripts/vendor/flot/jquery.flot.stack.js","scripts/vendor/flot/jquery.flot.pie.js","scripts/vendor/gaugejs/gauge.min.js","scripts/vendor/datatables/datatables.bootstrap.min.css","scripts/vendor/datatables/datatables.bootstrap.min.css"])}]}})}]);app.controller("MainCtrl",function(e,t,a){e.main={title:school_name,settings:{navbarHeaderColor:"scheme-lightred",sidebarColor:"scheme-greensea",brandingColor:"scheme-lightred",activeColor:"greensea-scheme-color",headerFixed:!0,asideFixed:!0,rightbarShow:!1}},e.ajaxFaker=function(){},e.changeLanguage=function(t){a.use(t),e.currentLanguage=t},e.currentLanguage=a.proposedLanguage()||a.use()}),app.controller("CountController",function(e,t){var a=setInterval(function(){school_id>0&&(clearInterval(a),e.loadData(school_id))},200);e.loadData=function(a){t({url:"/scripts/modules/school/counts.php",method:"PUT",data:{school_id:a}}).then(function(t){e.counts=t.data},function(e){})}}),app.directive("navCollapse",function(e){return{restrict:"A",link:function(t,a){e(function(){var e=a.find("ul").parent("li"),t=e.children("a"),n=a.children("li").not(e),o=n.children("a"),s=angular.element(".appWrapper"),r=angular.element("#sidebar"),l=angular.element("#controls");e.addClass("dropdown");var i=e.find("ul >.dropdown");i.addClass("submenu"),t.append('<i class="fa fa-plus"></i>'),t.on("click",function(t){if(s.hasClass("sidebar-sm")||s.hasClass("sidebar-xs")||s.hasClass("hz-menu"))return!1;var a=angular.element(this),n=a.parent("li"),o=angular.element(".submenu.open");n.hasClass("submenu")||e.not(n).removeClass("open").find("ul").slideUp(),o.not(a.parents(".submenu")).removeClass("open").find("ul").slideUp(),n.toggleClass("open").find(">ul").stop().slideToggle(),t.preventDefault()}),e.on("mouseenter",function(){r.addClass("dropdown-open"),l.addClass("dropdown-open")}),e.on("mouseleave",function(){r.removeClass("dropdown-open"),l.removeClass("dropdown-open")}),o.on("click",function(){e.removeClass("open").find("ul").slideUp()});var c=angular.element(".dropdown>ul>.active").parent();c.css("display","block")})}}}),app.directive("slimscroll",function(){return{restrict:"A",link:function(e,t,a){var n=[],o={},s=function(){a.slimscroll?o=e.$eval(a.slimscroll):a.slimscrollOption&&(o=e.$eval(a.slimscrollOption)),angular.element(t).slimScroll({destroy:!0}),angular.element(t).slimScroll(o)},r=function(){a.slimscroll&&!o.noWatch&&n.push(e.$watchCollection(a.slimscroll,s)),a.slimscrollWatch&&n.push(e.$watchCollection(a.slimscrollWatch,s)),a.slimscrolllistento&&n.push(e.$on(a.slimscrolllistento,s))},l=function(){angular.element(t).slimScroll({destroy:!0}),n.forEach(function(e){e()}),n=null};n.push(e.$on("$destroy",l)),r()}}}),app.directive("sparkline",[function(){return{restrict:"A",scope:{data:"=",options:"="},link:function(e,t){var a,n=e.data,o=e.options,s=function(){return t.sparkline(n,o)};return angular.element(window).resize(function(){clearTimeout(a),a=setTimeout(s,200)}),s()}}}]),app.controller("DashboardCtrl",function(e,t){var a=setInterval(function(){school_id>0&&(clearInterval(a),e.scroll=0,e.page={title:school_name,subtitle:"Dashboard"},e.displayQuickLink=!1)},200)}).controller("UserCtrl",function(e,t){var a=setInterval(function(){admin_username.length>0&&(clearInterval(a),e.admin_profile_image=classtune_server+"/images/icons/user_new.png",e.admin_profile_link=classtune_server+"/user/profile/"+admin_username,e.admin_logout_link=classtune_server+"/user/logout/",e.admin_name=admin_name)},200)}).controller("NotificationCtrl",function(e,t){var a=setInterval(function(){if(school_id.length>0&&classtune_server.length>0&&username.length>0&&token.length>0){clearInterval(a);try{var t=new XMLHttpRequest;t.onreadystatechange=function(a){if(4==t.readyState){var n=a.target.responseText,o=new DOMParser,s=o.parseFromString(n,"text/xml");if(e.count=s.getElementsByTagName("count")[0].childNodes[0].nodeValue,e.reminders=[],e.reminders_link_all=classtune_server+"/reminder",e.reminders_link=classtune_server+"/reminder/view_reminder?id2=",e.count>0)try{var r=new XMLHttpRequest;r.onreadystatechange=function(t){if(4==r.readyState){for(var a=t.target.responseText,n=new DOMParser,o=n.parseFromString(a,"text/xml"),s=[],l=o.getElementsByTagName("reminder").length,i=0,c=0;l>c;c++){var d={id:o.getElementsByTagName("reminder_id")[c].childNodes[0].nodeValue,subject:o.getElementsByTagName("subject")[c].childNodes[0].nodeValue,created_at:o.getElementsByTagName("created_at")[c].childNodes[0].nodeValue};s[i]=d,i++}e.reminders=s}},r.open("GET",classtune_server+"/api/reminders/collections/"+username),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("Authorization",'Token token="'+token+'"'),r.send()}catch(l){alert(l.message)}}},t.open("GET",classtune_server+"/api/reminders/count/"+username),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.setRequestHeader("Authorization",'Token token="'+token+'"'),t.send()}catch(n){alert(n.message)}}},200)}).controller("EmployeeStatisticsCtrl",function(e,t,a,n,o){var s=setInterval(function(){school_id>0&&(clearInterval(s),e.loadData(school_id))},200);e.oneAtATime=!0,e.status={isOpen:[]};var r=e.status.isOpen;r[0]=!0,e.donutData=[],e.loadData=function(s){o({url:"/scripts/modules/school/courses.php",method:"PUT",data:{school_id:s,school_domain:school_domain}}).then(function(o){e.courses=o.data,console.log(e.courses);var s=a.getTrustedResourceUrl("/views/ajax/courses.html");t(s).then(function(t){n(angular.element("#statistics").html(t).contents())(e)},function(){})},function(e){})}}).controller("NoticesCtrl",function(e,t,a){var n=setInterval(function(){school_id>0&&(clearInterval(n),a({url:"/scripts/modules/school/notices.php",method:"PUT",data:{school_id:school_id,school_domain:school_domain}}).then(function(t){e.noticeData=t.data}))},200)}).controller("AttendanceTypeCtrl",function(e,t,a,n,o,s,r,l){e.dataset=[{data:[],label:"Present",points:{show:!0,radius:4},splines:{show:!0,tension:.45,lineWidth:4,fill:0}},{data:[],label:"Student Count",bars:{show:!0,barWidth:.5,lineWidth:0,fillColor:{colors:[{opacity:.3},{opacity:.8}]}}}],e.options={colors:["#e05d6f","#61c8b8"],series:{shadowSize:0},legend:{backgroundOpacity:0,margin:-7,position:"ne",noColumns:2},xaxis:{tickLength:0,font:{color:"#fff"},position:"bottom",margin:10,ticks:[]},yaxis:{tickLength:0,font:{color:"#fff"}},grid:{borderWidth:{top:0,right:0,bottom:1,left:1},borderColor:"rgba(255,255,255,.3)",margin:0,minBorderMargin:0,labelMargin:20,hoverable:!0,clickable:!0,mouseActiveRadius:6},tooltip:!0,tooltipOpts:{content:"%s: %y",defaultTheme:!1,shifts:{x:0,y:20}}},e.datasetAttendance=[{data:[],label:"Present"},{data:[],label:"Absent"},{data:[],label:"Late"}],e.optionsAttendance={series:{shadowSize:0},legend:{backgroundOpacity:0,margin:-15,position:"ne",noColumns:3},bars:{show:!0,fill:!0,lineWidth:0,fillColor:{colors:[{opacity:.6},{opacity:.8}]},order:1,colors:["#428bca","#d9534f","#A40778"]},xaxis:{tickLength:0,font:{color:"#fff"},position:"bottom",ticks:[]},yaxis:{font:{color:"#ccc"}},grid:{hoverable:!0,clickable:!0,borderWidth:0,color:"#ccc"},tooltip:!0};var i=[{key:1,value:"Student"},{key:2,value:"Employee"}];e.values=i,e.values.selected=e.values[0],e.typeAttendance=e.values.selected.value,e.loadAttendaceGraph=function(r,i){e.attendace_type=r.value;var c=a.getTrustedResourceUrl("/views/ajax/attendance.html");t(c).then(function(c){e.dtOptions=o.newOptions().withOption("ajax",{url:"/scripts/modules/school/attendance.php",type:"GET",data:{school_id:i,type_attendance:r.key}}).withOption("responsive",!0).withOption("autoWidth",!0).withOption("processing",!0).withOption("bLengthChange",!1).withOption("bFilter",!1).withDataProp("data").withOption("scrollY",650).withScroller().withOption("serverSide",!0).withBootstrap().withOption("fnDrawCallback",function(){angular.forEach(angular.element(document.getElementsByClassName("attendance_chart")),function(e,t){var a=JSON.parse(e.attributes.data.value),n=JSON.parse(e.attributes.options.value);angular.element(e).sparkline(a,n)}),l({url:"/scripts/modules/school/attendace_details.php",method:"PUT",data:{school_id:i,school_domain:school_domain}}).then(function(o){e.dataset[0].data=o.data.student_attendace,e.dataset[1].data=o.data.student_counts,e.options.xaxis.ticks=o.data.courses,e.datasetAttendance[0].data=o.data.student_present,e.datasetAttendance[1].data=o.data.student_absent,e.datasetAttendance[2].data=o.data.student_late,e.options.xaxis.ticks=o.data.courses,e.optionsAttendance.xaxis.ticks=o.data.courses_attendance,e.attendance_statistics=o.data.attendance_statistics,e.attendance_statistics_emp=o.data.attendance_statistics_emp,e.students_top=o.data.students_top,e.employees_top=o.data.employees_top,e.students_absent_today=o.data.students_absent_today,e.employees_absent_today=o.data.employees_absent_today,e.students_absent_month=o.data.students_absent_month,e.employees_absent_month=o.data.employees_absent_month;var s=a.getTrustedResourceUrl("/views/ajax/attendance_statistics.html");t(s).then(function(t){n(angular.element("#attendance_statistics").html(t).contents())(e)},function(){});var s=a.getTrustedResourceUrl("/views/ajax/attendance_statistics_employee.html");t(s).then(function(t){n(angular.element("#attendance_statistics_employee").html(t).contents())(e)},function(){});var s=a.getTrustedResourceUrl("/views/ajax/absent_students.html");t(s).then(function(t){n(angular.element("#absent_students").html(t).contents())(e)},function(){});var s=a.getTrustedResourceUrl("/views/ajax/absent_employees.html");t(s).then(function(t){n(angular.element("#absent_employees").html(t).contents())(e)},function(){});var s=a.getTrustedResourceUrl("/views/ajax/absent_students_month.html");t(s).then(function(t){n(angular.element("#absent_students_month").html(t).contents())(e)},function(){});var s=a.getTrustedResourceUrl("/views/ajax/absent_employees_month.html");t(s).then(function(t){n(angular.element("#absent_employees_month").html(t).contents())(e)},function(){});var s=a.getTrustedResourceUrl("/views/ajax/top_students.html");t(s).then(function(t){n(angular.element("#top_students").html(t).contents())(e)},function(){});var s=a.getTrustedResourceUrl("/views/ajax/top_employees.html");t(s).then(function(t){n(angular.element("#top_employees").html(t).contents())(e)},function(){})},function(e){})}).withPaginationType("full_numbers"),e.dtColumns=[s.newColumn("serial").withTitle("Serial").notVisible(),s.newColumn("name").withTitle("Class").withOption("width","35%"),s.newColumn("num_student").withTitle("Student Count").withOption("width","20%"),s.newColumn("percent").withTitle("% of Present").withOption("width","25%").notSortable(),s.newColumn("graph_attendance").withTitle("Attendance Graph").withOption("width","35%").notSortable()],n(angular.element("#attendance_table").html(c).contents())(e)}),e.sizeOf=function(e){return Object.keys(e).length}};var c=setInterval(function(){school_id>0&&(clearInterval(c),e.loadAttendaceGraph(e.values.selected,school_id))},200)}).controller("HomeworkController",function(e,t,a,n,o){var s=[{key:1,value:"Homework",table:"assignments"},{key:2,value:"ClassWork",table:"classworks"}];e.dtOptions=[],e.dtColumns=[];var r=setInterval(function(){school_id>0&&(clearInterval(r),e.generateDatatable(school_id,s))},200);e.generateDatatable=function(n,o){e.options=o,angular.forEach(o,function(o,s){e.dtOptions[o.key]=t.newOptions().withOption("ajax",{url:"/scripts/modules/school/list.php",type:"GET",data:{table_info:o.table,school_id:n,school_domain:school_domain}}).withOption("responsive",!0).withOption("autoWidth",!0).withOption("processing",!0).withOption("bLengthChange",!1).withOption("bInfo",!1).withOption("bPaginate",!1).withOption("bFilter",!1).withDataProp("data").withOption("scrollY",400).withScroller().withOption("serverSide",!0).withBootstrap(),e.dtColumns[o.key]=[a.newColumn("id").withTitle("ID").notVisible(),a.newColumn("name").withTitle("Subject Info").withOption("width","65%"),a.newColumn("info").withTitle(o.value).withOption("width","35%").notSortable()]})},e.dtInstance={},e.callTabAjax=function(e){}}).controller("CalendarWidgetCtrl",function(e){e.today=function(){e.dt=new Date},e.today(),e.clear=function(){e.dt=null},e.disabled=function(e,t){return"day"===t&&(0===e.getDay()||6===e.getDay())},e.toggleMin=function(){e.minDate=e.minDate?null:new Date},e.toggleMin(),e.open=function(t){t.preventDefault(),t.stopPropagation(),e.opened=!0},e.dateOptions={formatYear:"yy",startingDay:1,"class":"datepicker"},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0]}).controller("NavCtrl",function(e,t){var a=setInterval(function(){e.oneAtATime=!1,e.status={isFirstOpen:!0,isSecondOpen:!0,isThirdOpen:!0},school_id>0&&(clearInterval(a),e.server=classtune_server,t({url:"/scripts/modules/school/menus.php",method:"PUT",data:{school_id:school_id,server:classtune_server,dashboard_link:dashboard_link,school_domain:school_domain,username:username,token:token}}).then(function(t){e.menus=t.data}))},200)}),app.directive("collapseSidebar",function(e){return{restrict:"A",link:function(e,t){var a=angular.element(".appWrapper"),n=angular.element(window),o=n.width(),s=function(){angular.element("#sidebar").find(".ink").remove()},r=function(){o=n.width(),992>o?a.addClass("sidebar-sm"):a.removeClass("sidebar-sm sidebar-xs"),768>o?a.removeClass("sidebar-sm").addClass("sidebar-xs"):o>992?a.removeClass("sidebar-sm sidebar-xs"):a.removeClass("sidebar-xs").addClass("sidebar-sm"),a.hasClass("sidebar-sm-forced")&&a.addClass("sidebar-sm"),a.hasClass("sidebar-xs-forced")&&a.addClass("sidebar-xs")};r(),n.resize(function(){if(o!==n.width()){var e;clearTimeout(e),e=setTimeout(r,300),s()}}),t.on("click",function(e){a.hasClass("sidebar-sm")?a.removeClass("sidebar-sm").addClass("sidebar-xs"):a.hasClass("sidebar-xs")?a.removeClass("sidebar-xs"):a.addClass("sidebar-sm"),a.removeClass("sidebar-sm-forced sidebar-xs-forced"),a.parent().removeClass("sidebar-sm sidebar-xs"),s(),e.preventDefault()})}}}).directive("scrollPosition",function(e){return{scope:{scroll:"=scrollPosition"},link:function(t,a,n){var o=angular.element(e),s=function(){t.scroll=o.scrollTop()};o.on("scroll",t.$apply.bind(t,s)),s()}}}).directive("ripple",function(){return{restrict:"A",link:function(e,t){var a,n,o,s,r;angular.element(t).find(">li>a").click(function(e){a=angular.element(this).parent(),0===a.find(".ink").length&&a.prepend('<span class="ink"></span>'),n=a.find(".ink"),n.removeClass("animate"),n.height()||n.width()||(o=Math.max(a.outerWidth(),a.outerHeight()),n.css({height:o,width:o})),s=e.pageX-a.offset().left-n.width()/2,r=e.pageY-a.offset().top-n.height()/2,n.css({top:r+"px",left:s+"px"}).addClass("animate"),setTimeout(function(){angular.element(".ink").remove()},600)})}}}),app.directive("pageLoader",["$timeout",function(e){return{restrict:"AE",template:'<div class="dot1"></div><div class="dot2"></div>',link:function(t,a){a.addClass("hide"),t.$on("$stateChangeStart",function(){a.toggleClass("hide animate")}),t.$on("$stateChangeSuccess",function(t){t.targetScope.$watch("$viewContentLoaded",function(){e(function(){a.toggleClass("hide animate")},600)})})}}}]),app.controller("DaterangepickerCtrl",function(e,t){e.startDate=t().subtract(10,"days").format("MMMM D, YYYY"),e.endDate=t().format("MMMM D, YYYY"),e.rangeOptions={ranges:{Today:[t(),t()],Yesterday:[t().subtract(1,"days"),t().subtract(1,"days")],"Last 7 Days":[t().subtract(6,"days"),t()],"Last 30 Days":[t().subtract(29,"days"),t()],"This Month":[t().startOf("month"),t().endOf("month")],"Last Month":[t().subtract(1,"month").startOf("month"),t().subtract(1,"month").endOf("month")]},opens:"left",startDate:t().subtract(29,"days"),endDate:t(),parentEl:"#content"}}),app.directive("daterangepicker",function(){return{restrict:"A",scope:{options:"=daterangepicker",start:"=dateBegin",end:"=dateEnd"},link:function(e,t){t.daterangepicker(e.options,function(t,a){e.start=t.format("MMMM D, YYYY"),e.end=a.format("MMMM D, YYYY"),e.$apply()})}}}),angular.module("lazyModel",[]).directive("lazyModel",["$compile","$timeout",function(e,t){return{restrict:"A",priority:500,terminal:!0,require:["lazyModel","^form","?^lazySubmit"],scope:!0,controller:["$scope","$element","$attrs","$parse",function(e,t,a,n){if(""===a.lazyModel)throw"`lazy-model` should have a value.";var o=n(a.lazyModel),s=o.assign;this.accept=function(){s(e.$parent,e.buffer)},this.reset=function(){e.buffer=o(e.$parent)},e.$watch(a.lazyModel,angular.bind(this,function(){this.reset()}))}],compile:function(a){a.attr("ng-model","buffer"),a.removeAttr("lazy-model");var n=e(a);return{pre:function(e){n(e)},post:function(e,a,n,o){var s=o[0],r=o[1],l=o[2],i=l||r;if(void 0===i.$lazyControls){i.$lazyControls=[];for(var c=a.parent();"FORM"!==c[0].tagName;)c=c.parent();c.bind("submit",function(){t(function(){if(r.$valid){for(var e=0;e<i.$lazyControls.length;e++)i.$lazyControls[e].accept();l&&l.finalSubmit()}})}),c.bind("reset",function(e){e.preventDefault(),t(function(){for(var e=0;e<i.$lazyControls.length;e++)i.$lazyControls[e].reset()})})}i.$lazyControls.push(s),e.$on("$destroy",function(){for(var e=i.$lazyControls.length;e--;)i.$lazyControls[e]===s&&i.$lazyControls.splice(e,1)})}}}}}]).directive("lazySubmit",function(){return{restrict:"A",require:["lazySubmit","form"],controller:["$element","$attrs","$scope","$parse",function(e,t,a,n){var o=t.lazySubmit?n(t.lazySubmit):angular.noop;this.finalSubmit=function(){o(a)}}]}}),app.directive("morrisDonutChart",function(){return{restrict:"A",scope:{donutData:"=",donutColors:"@"},link:function(e,t,a){var n,o;n=void 0===e.donutColors||""===e.donutColors?null:JSON.parse(e.donutColors),e.$watch("donutData",function(){e.donutData&&(o?o.setData(e.donutData):o=new Morris.Donut({element:t,data:e.donutData,colors:n||["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],resize:!0}))})}}}),app.directive("wrapOwlcarousel",function(){return{restrict:"E",link:function(e,t){var a=e.$eval(angular.element(t).attr("data-options"));angular.element(t).owlCarousel(a)}}}).directive("owlCarousel",function(){return{restrict:"E",transclude:!1,link:function(e){e.initCarousel=function(t){var a={},n=e.$eval($(t).attr("data-options"));for(var o in n)a[o]=n[o];$(t).owlCarousel(a)}}}}).directive("owlCarouselItem",[function(){return{restrict:"A",transclude:!1,link:function(e,t){e.$last&&e.initCarousel(t.parent())}}}]),app.directive("activeToggle",function(){return{restrict:"A",link:function(e,t,a){t.on("click",function(){var e=angular.element(a.target)||Array(t);t.hasClass("active")?(t.removeClass("active"),e.removeClass("show")):(t.addClass("active"),e.addClass("show"))})}}}),app.directive("offcanvasSidebar",function(){return{restrict:"A",link:function(e,t){var a=angular.element(".appWrapper"),n=angular.element(window);n.width();t.on("click",function(e){a.hasClass("offcanvas-opened")?a.removeClass("offcanvas-opened"):a.addClass("offcanvas-opened"),e.preventDefault()})}}}),app.directive("scrollOnClick",function(){return{restrict:"A",link:function(e,t,a){var n=a.href;t.on("click",function(){if(void 0!=a.email){var o=a.email;(o.length>0||"undefined"!=o)&&e.callToAddMailAddress(o)}var s;if(s=n?$(n):t,void 0==a.scrolltype)$("html,body").animate({scrollTop:s.offset().top},"slow",function(){void 0!=a.email&&document.querySelector("#subject").focus()});else if("tab_scroll"==a.scrolltype){if(angular.element(document.getElementsByClassName("custom-tab")).removeClass("active_tab_custom"),angular.element(document.getElementsByClassName("custom-tab")).addClass("deactive_tab_custom"),t.removeClass("deactive_tab_custom"),t.addClass("active_tab_custom"),void 0!=a.scrollattendance){if("Student"==a.scrollattendance)var r={key:1,value:"Student"};else if("Employee"==a.scrollattendance)var r={key:2,value:"Employee"};var l=angular.element(document.getElementById(n.replace("#",""))).scope();if(l.values.selected=r,l.loadAttendaceGraph(r),void 0!=a.idtochange){var i=a.idtochange.split(",");if(void 0!=a.targetheadclass){var c="bg-"+a.targetheadclass;angular.forEach(i,function(e,t){angular.element("#"+e).removeClass("bg-drank"),angular.element("#"+e).removeClass("bg-primary"),angular.element("#"+e).addClass(c)})}}}if(void 0!=a.targetheadclass){var d="tab_border_"+a.targetheadclass;t.parent().removeClass("tab_border_drank"),t.parent().removeClass("tab_border_primary"),t.parent().removeClass("tab_border_greensea"),t.parent().removeClass("tab_border_red"),t.parent().addClass(d)}$("html,body").animate({scrollTop:s.offset().top-200},"slow",function(){void 0!=a.email&&document.querySelector("#subject").focus()})}})}}});