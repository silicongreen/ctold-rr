

<% form_for :intelligence, :url => {:action=> 'teacher_homework_pdf'}, :html=> {:id=>'new_student',:target=>'_blank'} do |s| %>
  <div id="page-yield" style="margin-top:0px;">  
      
      
      <div class="row" style="width:48%; margin-right:8px;">
          <div class="row_label" >
            <div>
              Start date
            </div>
          </div>
          <div class="row_data">
            <div>
              <%= calendar_date_select_tag "start_date",@date_today, :readonly=> true,:onChange => "#{remote_function(:url => {:controller => "intelligence", :action => "get_teacher_homeworks"},
            :with => "$('new_student').serialize()",
            :before => "$('loading_6').show();",
            :success => "$('loading_6').hide();"  )}", :popup=>:force, :placeholder => '',:style=>'height:29px; float:left;' %>
             <%= image_tag("loader.gif", :align => "absmiddle", :border => 0, :id => "loading_6", :style =>"display: none;" ) %>
            </div>
          </div>
        </div>
       
        <div class="row" style="width:48%; margin-right:8px;">
          <div class="row_label" >
            <div>
              End date
            </div>
          </div>
          <div class="row_data">
            <div>
              <%= calendar_date_select_tag "select_date",@date_today, :readonly=> true,:onChange => "#{remote_function(:url => {:controller => "intelligence", :action => "get_teacher_homeworks"},
            :with => "$('new_student').serialize()",
            :before => "$('loading_6').show();",
            :success => "$('loading_6').hide();"  )}", :popup=>:force, :placeholder => '',:style=>'height:29px; float:left;' %>
             <%= image_tag("loader.gif", :align => "absmiddle", :border => 0, :id => "loading_6", :style =>"display: none;" ) %>
            </div>
          </div>
        </div>


     <div style="float:left; clear:both; margin-top:20px; width:100%;">
      <div class="row">  
        <div class="row_label">
          <div>
            Department
          </div>
        </div>
        <div class="row_data">
          <div>
            <div class="custom_drop_wrapper">
             <%= select :student, :department, options_for_select(@departments.map { |s| [s.name, s.id] }), 
              {:prompt => "#{t('select')}"},
              {:onChange => "#{remote_function(:url => {:controller => "intelligence", :action => "get_teacher_homeworks"}, :with => "$('new_student').serialize()" ,:before => "$('loading_3').show();",
              :success => "$('loading_3').hide();")}"} %>
              <%= image_tag("loader.gif", :align => "absmiddle", :border => 0, :id => "loading_3", :style =>"display: none;" ) %>
            </div>
          </div>
        </div>
      </div>
      
      
     

     
      <div class="row">  
        <div class="row_label">
          <div>
            Sort By
          </div>
        </div>
        <div class="row_data">
          <div>
            <div class="custom_drop_wrapper">
               <%
              typehash2 = [["homework_given", "Homework Given"], ["total_class", "Total Class"], ["emp_name", "Employee Name"]]
              %>
             <%= select :student,:sort_by, typehash2.map{|role| [ role[1], role[0] ]}, 
              {:prompt => "#{t('select')}"},
              {:onChange => "#{remote_function(:url => {:controller => "intelligence", :action => "get_teacher_homeworks"}, :with => "$('new_student').serialize()" ,:before => "$('loading_4').show();",
              :success => "$('loading_4').hide();")}"} %>
              <%= image_tag("loader.gif", :align => "absmiddle", :border => 0, :id => "loading_4", :style =>"display: none;" ) %>
            </div>
          </div>
        </div>
      </div>
      <div class="row">  
        <div class="row_label">
          <div>
            Sort Type
          </div>
        </div>
        <div class="row_data">
          <div>
            <div class="custom_drop_wrapper">
               <%
              typehash3 = [[1, "Desc"], [2, "Asc"]]
              %>
             <%= select :student,:sort_type, typehash3.map{|role| [ role[1], role[0] ]}, 
              {:prompt => "#{t('select')}"},
              {:onChange => "#{remote_function(:url => {:controller => "intelligence", :action => "get_teacher_homeworks"}, :with => "$('new_student').serialize()" ,:before => "$('loading_5').show();",
              :success => "$('loading_5').hide();")}"} %>
              <%= image_tag("loader.gif", :align => "absmiddle", :border => 0, :id => "loading_5", :style =>"display: none;" ) %>
            </div>
          </div>
        </div>
      </div>
     </div>     
 
    <%= image_tag("loader.gif", :align => "absmiddle", :border => 0, :id => "loader", :style =>"display: none;" ) %>




  <div id="att_report"></div>
  
 
  
  
  <% end %>
  
</div>

<script type="text/javascript">
  $('loading_3').show();
  j.ajax({
    type: "POST",
    url: "/intelligence/get_teacher_homeworks",
    data: $('new_student').serialize()
  })
  .done(function( msg ) {
    $('loading_3').hide();
  });
</script>

<style>
    .label-field-pair label {
    width: 80px;
}
    .text-input-bg img {
  padding-top: 10px;
  padding-left: 2px;
}
  .row {
  background-color: #f8f8fa;
  border: 1px solid #DFE1E2;
  float: left;
  width: 30%;
  margin-right: 28px;
  border-right: 1px solid #DFE1E2;
}
.row_label {
  background-color: #ffffff;
  border-right: 1px solid #DFE1E2;
  float: left;
  width: 48.2%;
  padding: 0px 0px;
}
.row_label div {
  color: #868A8B;
  float: left;
  padding: 8px 10px;
  width: 80%;
}
.row_data {
  float: left;
  width: 48.6%;
}
.custom_drop_wrapper select::-ms-expand {
    display: none;
}
.custom_drop_wrapper select {
  background-color: transparent;
  background-image: url("/images/icons/drop_down_normal.png");
  background-position: 98% 0;
  background-repeat: no-repeat;
  background-size: 37px 36px;
  border: medium none;
  cursor: pointer;
  display: block;
  height: 35px;
  width: 100%;
  -webkit-appearance: none;
  -moz-appearance: none;
  /* border-right: 1px solid black; */
}
img.calendar_date_select_popup_icon
{
    border: 0px;
    cursor: pointer;
    width: 20px;
    float: left;
    margin: 7px;
}
.cds_header .month
{
  padding:0px;
}

</style> 