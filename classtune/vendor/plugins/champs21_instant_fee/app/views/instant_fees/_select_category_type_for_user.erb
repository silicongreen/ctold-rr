<%-# Champs21
#Copyright 2010 teamCreative Private Limited
#
#This product includes software developed at
#Project Champs21 - http://www.champs21.com/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>
<% if @employee_id.present? %>
  <div class="label-field-pair" style="width: 100%; margin-bottom: 30px;">
    <div class="label-container" style="text-align: right; padding-top: 4px; font-weight: bold; font-size: 16px;">
        <%= t('select_category_type') %>
        <%= image_tag("loader.gif",
          :align => "absmiddle",
          :border => 0,
          :id => "loader3",
          :style =>"display: none;" ) %>
    </div>
    <div class="input-container" style="width: 43%;">
      <%= select :select_category, :category, @instant_fee_categories.map { |s| [s.name, s.id] } << {"#{t('custom')}",""},
        {:prompt => "#{t('select_category')}"},
        {:onChange => "#{remote_function(:url => {:action => "handle_category"}, :with => "'category_id='+value+'&employee_id='+#{@employee_id}",
        :before => "Element.show('loader3')",
        :success => "Element.hide('loader3')")}"} %>
    </div>
  </div>
<% elsif @student_id.present? %>
  <div class="label-field-pair" style="width: 100%; margin-bottom: 30px;">
    <div class="label-container" style="text-align: right; padding-top: 4px; font-weight: bold; font-size: 16px;">
      <%= t('select_category_type') %>
      <%= image_tag("loader.gif",
        :align => "absmiddle",
        :border => 0,
        :id => "loader4",
        :style =>"display: none;" ) %>
    </div>
    <div class="input-container" style="width: 43%;">
      <%= select :select_category, :category, @instant_fee_categories.map { |s| [s.name, s.id] } << {"#{t('custom')}",""},
        {:prompt => "#{t('select_category')}"},
        {:onChange => "#{remote_function(:url => {:action => "handle_category"}, :with => "'category_id='+value+'&student_id='+#{@student_id}",
        :before => "Element.show('loader4')",
        :success => "Element.hide('loader4')")}"} %>
    </div>
  </div>
<% end %>
