<div id="content-header">
  <%= show_header_icon %>
  <a href="/assignments"><h1><%= "#{t('assignments_text')}"%></h1></a>
  <div class='header-sep'>|</div>
  <div class='sub-header'><%= "#{t('submit_an_answer')}"%></div>
</div>

<div id="page-yield" class="ch_homework_answers_wrapper">

  <% unless flash[:notice].nil? %>
    <p class="flash-msg"> <%= flash[:notice] %> </p>
  <% end %>
  <div class="form-container">
    <% form_for [@assignment,@assignment_answer] , :html => { :multipart => true } do |f| %>
      <%= error_messages_for :assignment,:assignment_answer %>
      <div class="assignment_container">
        <div class="assignment_form">

          <div class="label-field-pair">
            <label  for="assignment_title"><%= "#{t('title')}"%></label>
            <div class="text-input-bg"><%= f.text_field :title %></div>
          </div>

          <div class="label-field-pair " id="assignment_description">
            <label ><%= "#{t('content')}"%></label>
            <div  class="text-input-bg"><%= f.text_area  :content %></div>
          </div>

          <div class="label-field-pair">
              <label ><%= "#{t('attach_a_file')}"%> <b style="color:red;">*</b></label>
            <div  class="text-input-bg" id="assignment-attachment"><%= f.file_field  :attachment %></div>
          </div>
            
         
          <div class="label-field-pair" >
            <label ><%= t('attach_a_file')%> 2</label>
            <div  class="text-input-bg" id="assignment-attachment2">
              <%= f.file_field  :attachment2 %>    
            </div>
          </div>


          <div class="label-field-pair">
            <label ><%= t('attach_a_file')%> 3</label>
            <div  class="text-input-bg" id="assignment-attachment3">
              <%= f.file_field  :attachment3 %>      
            </div>
          </div>
        

          <%= f.submit "#{t('submit_answer')}" ,:class=>"submit_button"  %>
        </div>


      </div>


    <% end %>
  </div>
</div>

<script>
  j(".submit_button").on("click",function(event){
    event.preventDefault();
    var file_added = false;
    if( document.getElementById("assignment_answer_attachment").files.length != 0 || document.getElementById("assignment_answer_attachment2").files.length != 0 || document.getElementById("assignment_answer_attachment3").files.length != 0 ){
      file_added = true;
    }
    if(file_added == false)
    {
      if(confirm("Do you want to continue without any attachment?"))
      {
        j(".new_assignment_answer").submit();
      }
    }
  });
  
</script>  
