<%-# Champs21
#Copyright 2010 teamCreative Private Limited
#
#This product includes software developed at
#Project Champs21 - http://www.champs21.com/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>

<div id="page-yield" class="bg-disable">

    <div class="header-wrapper">
        <div class="header-title" style="width:68%;">
            <div class="header-icon"  style="width:12%;">
                <%= image_tag '/images/icons/attendance-header.png', :html => {:alt => 'Attendance'} %>
            </div>
            <div class="header-title-text-wrapper">
                <div class="header-title-main-text f2">
                    Class Open
                </div>
                <div class="header-title-sub-text">
                    <%= @local_tzone_time.to_time %>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>

        <div class="tabbed-header-wrapper">
            <ul class="header-tabs">
                <li class="active">
                    <%= link_to "Makeup Class List",
                      {:controller=>"attendances", :action=>"class_open"},
                      {:class => 'f2'}
                    %>
                </li>
                <li>
                  <%= link_to "Add Makeup Class",
                      {:controller=>"attendances", :action=>"add_class_open"},
                      {:class => 'f2'}
                  %>
                </li>
                <li>
                    <%= link_to "Roll Call",
                      {:controller=>"attendances", :action=>"index"},
                      {:class => 'f2'}
                    %>
                </li>
                
            </ul>
        </div>
    </div>
    <div id="page-yield" style="margin-top: 0px;">
        <% unless flash[:notice].nil? %> <p class="flash-msg"> <%= flash[:notice] %> </p> <% end %>
        <table id="listing" align="center" width="80%">
          <tr class="tr-head">
            <td>
              Details
            </td>
            <td>
              Open Date
            </td>
            <td>
              Action
            </td>
            
          </tr>
          <% @class_opens.each do |class_open| %>
            <tr class="tr-<%= cycle('odd', 'even') %>">
              <td class="col-2"><%= class_open.details %></td>
              <td class="col-2"><%= class_open.date %></td>
              <td class="col-3"><%= link_to "#{t('delete_text')}",{:action => 'remove_class_open', :id =>class_open.id,:page=>params[:page]}, :confirm => "#{t('delete_confirm_msg')}" %></td>
            </tr>
          <% end %>
        </table>
        <%= will_paginate @class_opens %>

        <%= stylesheet_link_tag 'tadded-header' %>
        <%= stylesheet_link_tag 'pagination_and_table' %>
    </div>

</div>
<style>
    div.button-link-report
    {

        background: #C91018;
        color:white;

    }
    div.button-link-report:hover
    {
        background: #383838;
    }
    table {
      border-collapse: inherit; 
      border-spacing: 1px;
    } 
    table#listing
    {
      padding: 10px 10px 10px;
    }
    .pagination
    {
       margin-right: 10%;
    }
</style>  

<% content_for :head do %>
  <%= javascript_include_tag "swfobject" %>
  <%= javascript_include_tag "custom/tabbed-header" %>
<% end %>

<%= stylesheet_link_tag 'tadded-header' %>
<%= stylesheet_link_tag 'inline-calendar' %>

<script>
  function show_student_list(type)
  {
      if (j("#" + type).is(":visible"))
      {
          j(".std_list").hide();
          j("td.view").css("background-color", "white");
          j("td.view").css("color", "black");
      }
      else
      {
          j(".std_list").hide();
          j("td.view").css("background-color", "white");
          j("td.view").css("color", "black");
          j("#" + type).show();
          j("#" + type + "_view").css("background-color", "#E6585A");
          j("#" + type + "_view").css("color", "white");
      }

  }
  var jq = jQuery.noConflict();
  jq(document).ready(function () {
      if (window.location.hash) {
          var hash = window.location.hash.substring(1); //Puts hash in variable, and removes the # character
          jq("#" + hash).trigger("click");
          
      } else {
          
      }
  });
</script>