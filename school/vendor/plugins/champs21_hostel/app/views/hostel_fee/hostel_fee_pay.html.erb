<div id="content-header">
<%= show_header_icon %>
  <h1><%= "#{t('hostel_text')}"%></h1>
<div class='header-sep'>|</div>
<div class='sub-header'><%= "#{t('pay_hostel_fee')}"%></div>
<div id="inner-tab-menu">
  <ul>
    <li class='themed_bg themed-dark-hover-background'><%= link_to "#{t('defaulters')}", :controller => "hostel_fee", :action => "hostel_fee_defaulters" %></li>
  </ul>
</div>
</div>
<div id="page-yield">

  <div class="label-field-pair"><label><%= "#{t('select_a_class')}"%></label>
    <div class="text-input-bg"> <%= select :fee_submission, :batch_id, Batch.active.map { |c| [c.full_name, c.id] },
        {:prompt => "#{t('select_class')}"},
        {:onChange => "#{remote_function(:url => {:action => "update_fee_collection_dates"}, :with => "'batch_id='+value",:before => "Element.show('loader')",:success => "Element.hide('loader')")}"} %>
      <%= image_tag("loader.gif",
        :align => "absmiddle",
        :border => 0,
        :id => "loader",
        :style =>"display: none;" ) %> </div>
  </div>
  <div class="label-field-pair"><label><%= "#{t('select_fee_collection_date')}"%></label>

    <div class="text-input-bg">
      <div id="hostel_fee_collection_dates">
        <%= render :partial => "hostel_fee_collection_dates"  %>
      </div>
    </div>
  </div>


  <div id="hostel_fee_collection_details"></div>
  <div id="modal-box" style="display:none;"></div>

</div>
<script type="text/javascript">
  function validate_payment_mode()
  {
    if ($('payment')!=null)
    {
      if ($('payment').select('input')[0].value=="")
      {
        alert('<%= "#{t('select_one_payment_mode')}"%>');
        return false;
      }
      else
      {
        return true;
      }
    }
    else
    {
      return true;
    }
  }
  function validate_fine()
  {
    if(isNaN($('fine_fee').value)==false)
    {
      if($('fine_fee').value <= 0)
      {
        $('fine_fee').value=""
        alert("Please enter a positive value for fine");
        return false;
      }
      else if($('fine_fee').value=="")
      {
        alert("Please enter a positive value for fine");
        return false;
      }
      else{
        return true;
      }
    }
    else
    {
      $('fine_fee').value=""
      alert("Please enter a numeric value for fine");
      return false;
    }
  }
</script>
