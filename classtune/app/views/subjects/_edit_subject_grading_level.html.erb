<%-# Champs21
#Copyright 2010 teamCreative Private Limited
#
#This product includes software developed at
#Project Champs21 - http://www.champs21.com/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>

<div id="grading-levels-form">
  <div id="form-errors"></div>
  <% form_remote_for @subject_grading_level, :url=>{:action=>"update_grading_level",:subject_id=>@subject.id,:id=>@subject_grading_level.id},:before=>"$('submit_button').disable()",:complete=>"setTimeout(function(){$('submit_button').enable();},5000)" do |f| %>
    
   
    <%= f.hidden_field :grading_type,:value => "true" %>
    <% if @subject_grading_level.max_score.nil? %>
    <%= f.hidden_field :type_data, :value => "percentage" %>
    <% else %>
    <%= f.hidden_field :type_data, :value => "normal" %>
    <% end %>
    <h4>Grading Level for <%= @subject.name %></h4>
       
    <div class="label-field-pair">
      <div class="label-container"><%= f.label :"#{t('name')}" %></div>
      <div class="input-container"> <%= f.text_field :name %></div>
    </div>

    <div class="label-field-pair">
      <div class="label-container"><%= label :grading_type, t('grading_type') %></div>
      <div class="input-container"> 
        <% selected_percentage = (@subject_grading_level.max_score.nil?) ? true : false %>  
        <%= check_box_tag "grading_type_data[]","percentage", selected_percentage, :id=>"grading_type", :style => "float: left; width: 30px; margin: 8px;", :class => "grading_type", :onclick => "javascript:enable_grading_level(this);" %> <label for="grading_type" style="float:left; clear:none;"><%= t('grading_type_percentage')  %> </label>
        <% selected_normal = (@subject_grading_level.max_score.nil?) ? false : true %>  
        <%= check_box_tag "grading_type_data[]","normal", selected_normal, :id=>"grading_type", :style => "float: left; width: 30px; margin: 8px;", :class => "grading_type", :onclick => "javascript:enable_grading_level(this);" %> <label for="grading_type" style="float:left; clear:none;"><%= t('grading_type_normal')  %> </label>
      </div>
    </div>
    
    
    <% style_percentage = (@subject_grading_level.max_score.nil?) ? "display: block": "" %>  
    <div class="label-field-pair percentage grading_type_div" style="display: block">
      <div class="label-container"><%= f.label :min_score, t('min_score')+" <span id='percentage' class='grading_type_div' style='" + style_percentage + "'>(%)</span>" %></div>
      <div class="input-container"> <%= f.text_field :min_score %></div>
    </div>
    
    
    <% style_normal = (@subject_grading_level.max_score.nil?) ? "": "display: block" %>  
    <div class="label-field-pair normal grading_type_div" style="<%= style_normal  %> ">
      <%= f.label :max_score, t('max_score') %>
      <div class="input-field"><%= f.text_field :max_score %></div>
    </div>
    
    <div class="label-field-pair">
      <%= f.label :description, "Description" %>
      <div class="input-field"><%= f.text_field :description %></div>
    </div>

    
      <div class="label-field-pair">
        <%= f.label :credit_points, "Grade Points" %>
        <div class="input-field"><%= f.text_field :credit_points %></div>
      </div>
 
    
     

      <%= f.submit  "", :value => "â–º #{t('save')}", :class => "submit_button", :id => "submit_button" %>

 <% end %>
</div>

<style type="text/css">
  #grading-levels-form{
    float: left;
    width: 450px;
  }
  #icons{
    background-color: #eee;
    border: 1px solid #c6c6c6;
    float: right;
    height: 270px;
    margin-right: 10px;
    margin-top: 30px;
    overflow: auto;
    width: 390px;
  }
  #icons ul{
    padding-left: 12px;
  }
  #icons ul li{
    cursor: pointer;
    display: inline;
  }
  .custom_icon{
    border: 1px solid #ccc;
    height: 60px;
    padding: 3px;
    width: 60px;
  }

</style>

