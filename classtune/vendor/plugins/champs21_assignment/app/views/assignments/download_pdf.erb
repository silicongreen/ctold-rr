
</div>
<div id="page-yield">

  <h2><%= "Homework/Assignment Report" %></h2>
  <h3><%= "Shift : " %> <%= @batch.name %> </h3>
  <% unless @class_name.blank? %>
    <h3>
      <%= "Class : " %> <%= @class_name %> 
    </h3>
  <% end %>
  <h3><%= "Date : " %> <%= @pub_date %> </h3>
  <div class="hor_line"></div>


  <div class="extender"> </div>
  <div class="report">

    <div id="pdf-info">

      <table id="pdf-table" width="100%" cellspacing="0">
        <tr class="table-header">
            <td class="col-pdf"><%= "SL" %></td>
            <% if @section_name.blank? %>
              <% if @class_name.blank? %>
                <td class="col-pdf"><%= "Class" %></td>
              <% else %>
                <td class="col-pdf"><%= "Section" %></td>
              <% end %>
            <% end %>
            <td class="col-pdf"><%= "Group" %>  </td>
            <td class="col-pdf"><%= "Type" %>  </td>
            <td class="col-pdf"><%= "Subject" %>  </td>
            <td class="col-pdf"><%= "Title" %>  </td>
            <td class="col-pdf"><%= "Attach" %>  </td>
            <td class="col-pdf"><%= "Teacher" %>  </td>
        </tr>
        <% c = "even" %>
        <% i = 0 %>
        <% index=0 %>
        <% c = 'odd' %>
        <% break_on = true %>
        <% count_attachment = 0 %>
        <% @assignments.each do |assignment| %>
           <% i += 1  %>
           <% index += 1  %>
           <% if i==39  && break_on == true %>
            <% i= 0 %>
            <% break_on = false %>
            <tr class="page-break"><td colspan="100"></td></tr>
            <tr class="table-header">
              <td class="col-pdf"><%= "SL" %></td>
            <% if @section_name.blank? %>
              <% if @class_name.blank? %>
                <td class="col-pdf"><%= "Class" %></td>
              <% else %>
                <td class="col-pdf"><%= "Section" %></td>
              <% end %>
            <% end %>
            <td class="col-pdf"><%= "Group" %>  </td>
            <td class="col-pdf"><%= "Type" %>  </td>
            <td class="col-pdf"><%= "Subject" %>  </td>
            <td class="col-pdf"><%= "Title" %>  </td>
            <td class="col-pdf"><%= "Attach" %>  </td>
            <td class="col-pdf"><%= "Teacher" %>  </td>
        </tr>
          <% end %>
            
          <% if i== 44 && break_on == false %>
            <% i= 0 %>
            <% break_on = false %>
            <tr class="page-break"><td colspan="100"></td></tr>
            <tr class="table-header">
            <td class="col-pdf"><%= "SL" %></td>
            <% if @section_name.blank? %>
              <% if @class_name.blank? %>
                <td class="col-pdf"><%= "Class & Section" %></td>
              <% else %>
                <td class="col-pdf"><%= "Section" %></td>
              <% end %>
            <% end %>
            <td class="col-pdf"><%= "Group" %>  </td>
            <td class="col-pdf"><%= "Type" %>  </td>
            <td class="col-pdf"><%= "Subject" %>  </td>
            <td class="col-pdf"><%= "Title" %>  </td>
            <td class="col-pdf"><%= "Attach" %>  </td>
            <td class="col-pdf"><%= "Teacher" %>  </td>
        </tr>
          <% end %>
          <tr class="<%= "#{c}" %>">
              <td><%= index %></td>  
            <% if @section_name.blank? %>
              <% if @class_name.blank? %>
                <td class="col-pdf"><%= assignment.subject.batch.course.course_name %> <%= assignment.subject.batch.course.section_name %></td>
              <% else %>
                <td class="col-pdf"><%= assignment.subject.batch.course.section_name %></td>
              <% end %>
            <% end %>
            <td class="col-pdf"><%= truncate(assignment.subject.batch.course.group, :length => 12) %></td>
            <%  if assignment.assignment_type == 1 %>
              <td class="col-pdf"><%= "Homework" %></td>
            <%  else %>
              <td class="col-pdf"><%= "Assignment" %></td>
            <%  end %>
            <td class="col-pdf"><%= truncate(assignment.subject.name, :length => 15) %></td>
            <td class="col-pdf"><%= truncate(assignment.title, :length => 15) %></td>
            <td class="col-pdf"><%= "Yes" unless assignment.attachment_file_name.blank? %></td>
            <%
            unless assignment.attachment_file_name.blank?
              count_attachment = count_attachment+1
            end  
              
            %>
            <td class="col-pdf"><%= truncate(assignment.employee.full_name, :length => 20)  unless assignment.employee.blank? %></td>
          
          </tr>
        <% end %>
          <tr class="table-header2">
            <% if !@section_name.blank? or !@class_name.blank?  %>  
              
              <td colspan="3" class="t-right">Total Attachments</td>
            <% else %>
              <td colspan="2" class="t-right">Total Attachments</td>
            <% end %>      
            <td><%= count_attachment %></td> 
            <td class="t-right">Total Class<td>
            <td><%= @report_data['total_class'] unless @report_data.blank? %></td>
            
          </tr>
      
      </table>
    </div>

  </div>

</div>

<style>
table tr td
{ 
    white-space: nowrap;
}
  
.odd{
    height:auto;
    background: #fff;

}

.even{

    height:auto;
    background: #fff;


}
tr.even{
    border: 1px solid #ADACAB;
}

tr.odd{
    border: 1px solid #ADACAB;
}

.even td{

    padding: 3px 0px 3px 1px;
    border-top: 1px solid #ADACAB;
    border-left: 1px solid #ADACAB;
    border-right: 1px solid #ADACAB;

}

.odd td{
    padding: 3px 0px 3px 1px;
    border-top: 1px solid #ADACAB;
    border-left: 1px solid #ADACAB;
    border-right: 1px solid #ADACAB;

}
.table-header2 td{
    padding: 3px 0px 3px 2px;
    border-top: 1px solid #ADACAB;
    border-left: 1px solid #ADACAB;
    border-right: 1px solid #ADACAB;
    border-bottom: 1px solid #ADACAB;
    color: #97080e;
    background: #fff;
    text-align: center;
}
.table-header td{
    padding: 3px 0px 3px 2px;
    border-top: 1px solid #ADACAB;
    border-left: 1px solid #ADACAB;
    border-right: 1px solid #ADACAB;
    color: #97080e;
    background: #fff;
    text-align: center;
}
.page-break td{
    height: 52px;
    border: 1px solid #fff;
    border-bottom: 1px solid #ADACAB;
}


</style>



