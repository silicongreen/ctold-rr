<%-# Champs21
#Copyright 2010 teamCreative Private Limited
#
#This product includes software developed at
#Project Champs21 - http://www.champs21.com/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>
<style>
  .form-control {
    display: block;
    width: 90%;
    padding: 10px 10px;
    font-size: 10px;
    line-height: 1.5;
    color: #495057;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #ced4da;
    border-radius: .25rem;
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}
.form-btn{
    background: #49BB4B;
    color:#fff;
    font-weight:bold;
}
</style>
<div id="content-header">
    <%= show_header_icon %>
    <h1><%= t('sms_text') %></h1>
    <div class='header-sep'>|</div>
    <div class='sub-header'><%= t('messages') %></div>

</div>
<div id="page-yield">
    <div class="box">
        <table style="padding:10px; background: #ddd; width:100%;">
            <tr>
                <td>
                    <input type="text" class="form-control" placeholder="Enter Mobile Number">
                </td>
                <td>
                    <input type="text" class="form-control" placeholder="Enter SMS">
                </td>
                <td>
                    <input type="date" class="form-control">
                </td>
                <td>
                    <input type="date" class="form-control">
                </td>
                <td>
                    <button id="filter-button" class="form-control form-btn" type="button">Filter</button>
                </td>
            </tr>
        </table>
    </div>
    <div class="box">
        <table id="listing" align="center" width="100%" cellpadding="1" cellspacing="1">
            <tr>
                <th colspan="3">
                    <%= t('total_sms_sent') %> : <%= @total_sms %>
                </th>
            </tr>
            <tr class="tr-head">
                <td>Mobile No</td>
                <td><%= t('sms_messages') %></td>
                <td>Gateway Response</td>
                <td>Date</td>
            </tr>
            <tr class="tr-blank"></tr>
            <% @sms_logs.each do |sms| %>
              <tr class="tr-<%= cycle('odd', 'even') %>">
                  <td class="col-4"><%= sms.mobile %></td>
                  <td class="col-4"><%= sms.sms_message.blank? ? 'No-Message' : CGI.unescape(sms.sms_message.body) %></td>
                  <td class="col-4"><%= sms.gateway_response %></td>
                  <td class="col-7"><%= SmsMessage.default_time_zone_present_time(sms.created_at).strftime("%A, %d. %B %Y, %H:%M") %></td>
              </tr>
            <% end %>
        </table>
        <%= will_paginate @sms_logs %>
    </div>
</div>
