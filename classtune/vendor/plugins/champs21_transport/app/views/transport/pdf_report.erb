

<%-# Champs21
#Copyright 2010 teamCreative Private Limited
#
#This product includes software developed at
#Project Champs21 - http://www.champs21.com/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>



<div id="page-yield" class="available_sections1">
  <table id="pdf-table" class="center-header" width="100%" cellspacing="0">
    <tr><td width="10%">
            <% if MultiSchool.current_school.id == 352 %>
              <%= wicked_pdf_image_tag "/"+("#{Rails.root}/"+ ("public/images/school_logo/352/logo-sagc.png")),:width=> '85%' %>

            <% else %>
              <%= wicked_pdf_image_tag "/"+("#{Rails.root}/"+ current_school_detail.logo.url),:width=> '85%' %>
            <% end %>
        </td>
        <td width="90%" style="vertical-align:top;">
            <font size="6"><b><%=Configuration.get_config_value('InstitutionName'); %></b></font><br/>
            <% if MultiSchool.current_school.id == 352 %>
            <font size="5">Dhaka Cantonment, Dhaka-1206</font><br/>
            <font size="5">Phone:9833306 web: www.sagc.edu.bd</font>
            <% end %>
        </td>
    </tr>     
</table>
  <div class="page1"></div>
  <div class="section1 row" style ="height:150px;">
    <center>
      <div class="hor_line"></div>
      <h3><%= t('transport_details_text') %> ( <%=@vehicle.vehicle_no%> )</h3>
      <div class="hor_line"></div>
      <div class="extender"></div>
      <div class="report">
        <div id ="main_info">
          <h5> Seat occupancy: <%="#{t('out_of', :start_value=>(@vehicle.no_of_seats-@vehicle.available_seats), :end_value=>@vehicle.no_of_seats)}"%></h5>
        </div>
      </div>
    </center>

  </div>

      <table id="pdf-table" width="100%">
        <tr class="table-header">
          <td class="col-pdf sl_no"><%= t('sl_no') %></td>
          <td class="col-pdf name"> <%= t('name') %> </td>
          <td class="col-pdf desc"> <%= t('route') %> </td>
          <td class="col-pdf rcpt_no"><%= "#{t('fare')}( #{currency})" %></td>

        </tr>
      


  <% i = 0 %>

  <% c= 'even' %>
  <% std_count = 0 %>
  <% extender = 0 %>

  <% @transport.each_with_index do |d,i| %>
    <% unless d.receiver.nil? %>
   
            <%  std_count = std_count+1; %>
            <% if std_count>31 && extender ==0 %>

              <% std_count = 0 %>
              <% extender = 1 %>
              <tr class="page-break">
                  <td colspan="100">&nbsp;</td>
              </tr> 
              <tr class="odd">
                <td class="col-pdf sl_no"><%= t('sl_no') %></td>
          <td class="col-pdf name"> <%= t('name') %> </td>
          <td class="col-pdf desc"> <%= t('route') %> </td>
          <td class="col-pdf rcpt_no"><%= "#{t('fare')}( #{currency})" %></td>  


              </tr>
              <% c = 'even' %>
          <% elsif std_count>38 && extender ==1 %>

              <% std_count = 0 %>
              <% extender = 1 %>
              <tr class="page-break">
                  <td colspan="100">&nbsp;</td>
              </tr> 
              <tr class="odd">
                <td class="col-pdf sl_no"><%= t('sl_no') %></td>
                <td class="col-pdf name"> <%= t('name') %> </td>
                <td class="col-pdf desc"> <%= t('route') %> </td>
                <td class="col-pdf rcpt_no"><%= "#{t('fare')}( #{currency})" %></td>


              </tr>
              <% c = 'even' %>
          <% end %>
            <tr class="<%= cycle(c,(["odd","even"]-[c]).first) %>">
              <td class="col-pdf sl_no"><%= i+1 %></td>
              <td class="col-pdf name"><%= d.receiver.full_name unless d.receiver.nil? %></td>
              <td class="col-pdf desc"><%= d.route.destination unless d.route.nil? %></td>
              <td class="col-pdf rcpt_no"><%= precision_label d.bus_fare %></td>
            </tr>
       
    <%end%>
  <% end %>
            
  </table>

</div>

<style>
    .page-break td{
    height: 50px;
    border: 1px solid #fff;
    border-top: 1px solid #000000;
    border-bottom: 1px solid #000000;
}
    #page-yield *
    {
        font-size: 21px !important;
    }
#pdf-table tr.table-header td{

    padding: 3px !important;
    border: 1px solid #000000;
    border-right: 0px solid #fff;
    border-top: 0px solid #fff;
    border-bottom: 0;
    font-size: 15px !important;
    white-space: nowrap;
}
    #pdf-table tr.even td{

    padding: 3px !important;
    border: 1px solid #000000;
    border-right: 0px solid #fff;
    border-top: 0px solid #fff;
    border-bottom: 0;
    font-size: 15px !important;
    white-space: nowrap;
}


#pdf-table tr.odd td{
    padding: 3px !important;
    border: 1px solid #000000;
    border-right: 0px solid #fff;
    border-top: 0px solid #fff;
    border-bottom: 0;
    font-size: 15px !important;
    white-space: nowrap;
}

#pdf-table tr:last-child td{
  border-bottom: 1px solid #000000 !important;
}
</style> 

